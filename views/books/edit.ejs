<!-- views/books/edit.ejs -->

<div class="container mt-4">
  <h1 class="mb-4">Edit Book</h1>

  <form action="/books/<%= book.id %>" method="POST">
    <div class="mb-3">
      <label class="form-label">Title*</label>
      <input 
        type="text" 
        name="title" 
        class="form-control" 
        value="<%= book.title %>" 
        required
      >
    </div>

    <div class="mb-3">
      <label class="form-label">Author*</label>
      <input 
        type="text" 
        name="author" 
        class="form-control" 
        value="<%= book.author %>" 
        required
      >
    </div>

    <div class="mb-3">
      <label class="form-label">ISBN (for cover)</label>
      <input 
        type="text" 
        name="isbn" 
        class="form-control"
        required 
        value="<%= book.isbn || '' %>"
      >
    </div>

    <div class="mb-3">
      <label class="form-label">Summary</label>
      <textarea 
        name="summary" 
        class="form-control" 
        rows="3"
      ><%= book.summary || '' %></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Your Notes</label>
      <textarea 
        name="notes" 
        class="form-control" 
        rows="5"
      ><%= book.notes || '' %></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Rating (0.0-5.0)</label>
      <input 
        type="number" 
        name="rating" 
        min="0" 
        max="5"
        step="0.1" 
        class="form-control" 
        value="<%= book.rating.toFixed(1) %>"
      >

      <small class="text-muted">Enter values like 3.5, 4.0, etc.</small>
    </div>

    <div class="mb-3">
      <label class="form-label">Date Read*</label>
      <input 
        type="date" 
        name="date_read" 
        class="form-control" 
        value="<%= book.date_read.toISOString().split('T')[0] %>" 
        required
      >
    </div>

    <button type="submit" class="btn btn-primary me-2">Save Changes</button>
    <a href="/books/<%= book.id %>" class="btn btn-outline-danger">Cancel</a>
  </form>
</div>
