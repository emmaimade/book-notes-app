<!-- views/books/details.ejs -->
<%- include('../partials/header') %>

<div class="container mt-4">
  <div class="row">
    <!-- Book Cover Column -->
    <div class="col-md-4">
      <img 
        src="/book-cover/<%= book.id %>" 
        class="img-fluid rounded" 
        alt="<%= book.title %>"
        onerror="this.src='/images/no-cover.jpg'"
      >
    </div>

    <!-- Details Column -->
    <div class="col-md-8">
      <h1><%= book.title %></h1>
      <h4 class="text-muted"><%= book.author %></h4>
      
      <div class="my-3">
        <% for (let i = 0; i < book.rating; i++) { %>
          <span class="text-warning h4">â˜…</span>
        <% } %>
      </div>

      <div class="card mb-3">
        <div class="card-body">
          <h5 class="card-title">Summary</h5>
          <p class="card-text"><%= book.summary || "No summary available." %></p>
        </div>
      </div>

      <div class="card">
        <div class="card-body">
          <h5 class="card-title">My Notes</h5>
          <p class="card-text"><%= book.notes || "No notes yet." %></p>
        </div>
      </div>

      <div class="mt-3">
        <small class="text-muted">
          Read on: <%= book.date_read.toLocaleDateString() %>
        </small>
      </div>

      <div class="mt-4">
        <a href="/books/edit/<%= book.id %>" class="btn btn-primary">Edit</a>
        <a href="/books" class="btn btn-outline-secondary">Back to List</a>
      </div>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>